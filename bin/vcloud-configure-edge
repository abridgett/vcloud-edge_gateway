#!/usr/bin/env ruby

require 'methadone'
require 'vcloud/edge_gateway'

class App
  include Methadone::Main
  include Methadone::CLILogging

  main do |config_file, template_vars_file|
    Vcloud::EdgeGatewayServices.new.update(config_file, template_vars_file)
  end

  arg :config_file
  arg :template_vars_file, :optional

  description '
  vcloud-edge_gateway allows you to configure an EdgeGateway with an input file

  An optional `template_vars_file` argument can be passed to render your
  `config_file` as a Mustache template.

  See https://github.com/alphagov/vcloud-edge_gateway for more info'

  version Vcloud::EdgeGateway::VERSION

  go!
end
